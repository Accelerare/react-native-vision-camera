(self.webpackChunkvision_camera=self.webpackChunkvision_camera||[]).push([[5574],{3905:function(e,a,t){"use strict";t.d(a,{Zo:function(){return p},kt:function(){return u}});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function c(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=n.createContext({}),l=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=l(e.components);return n.createElement(s.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},m=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),m=l(t),u=r,v=m["".concat(s,".").concat(u)]||m[u]||d[u]||i;return t?n.createElement(v,o(o({ref:a},p),{},{components:t})):n.createElement(v,o({ref:a},p))}));function u(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var c={};for(var s in a)hasOwnProperty.call(a,s)&&(c[s]=a[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<i;l++)o[l]=t[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},3919:function(e,a,t){"use strict";function n(e){return!0===/^(\w*:|\/\/)/.test(e)}function r(e){return void 0!==e&&!n(e)}t.d(a,{b:function(){return n},Z:function(){return r}})},4996:function(e,a,t){"use strict";t.d(a,{C:function(){return i},Z:function(){return o}});var n=t(2263),r=t(3919);function i(){var e=(0,n.default)().siteConfig,a=(e=void 0===e?{}:e).baseUrl,t=void 0===a?"/":a,i=e.url;return{withBaseUrl:function(e,a){return function(e,a,t,n){var i=void 0===n?{}:n,o=i.forcePrependBaseUrl,c=void 0!==o&&o,s=i.absolute,l=void 0!==s&&s;if(!t)return t;if(t.startsWith("#"))return t;if((0,r.b)(t))return t;if(c)return a+t;var p=t.startsWith(a)?t:a+t.replace(/^\//,"");return l?e+p:p}(i,t,e,a)}}}function o(e,a){return void 0===a&&(a={}),(0,i().withBaseUrl)(e,a)}},5798:function(e,a,t){"use strict";t.r(a),t.d(a,{frontMatter:function(){return s},metadata:function(){return l},toc:function(){return p},default:function(){return m}});var n=t(2122),r=t(9756),i=(t(7294),t(3905)),o=t(4996),c=["components"],s={id:"devices",title:"Camera Devices",sidebar_label:"Camera Devices"},l={unversionedId:"guides/devices",id:"guides/devices",isDocsHomePage:!1,title:"Camera Devices",description:"What are camera devices?",source:"@site/docs/guides/DEVICES.mdx",sourceDirName:"guides",slug:"/guides/devices",permalink:"/react-native-vision-camera/docs/guides/devices",editUrl:"https://github.com/cuvent/react-native-vision-camera/edit/main/docs/docs/guides/DEVICES.mdx",version:"current",sidebar_label:"Camera Devices",frontMatter:{id:"devices",title:"Camera Devices",sidebar_label:"Camera Devices"},sidebar:"visionSidebar",previous:{title:"Getting Started",permalink:"/react-native-vision-camera/docs/guides"},next:{title:"Lifecycle",permalink:"/react-native-vision-camera/docs/guides/lifecycle"}},p=[{value:"What are camera devices?",id:"what-are-camera-devices",children:[]},{value:"Get available camera devices",id:"get-available-camera-devices",children:[]},{value:"The <code>useCameraDevices</code> hook",id:"the-usecameradevices-hook",children:[]},{value:"The <code>supportsPhotoAndVideoCapture</code> prop",id:"the-supportsphotoandvideocapture-prop",children:[]}],d={toc:p};function m(e){var a=e.components,t=(0,r.Z)(e,c);return(0,i.kt)("wrapper",(0,n.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("div",null,(0,i.kt)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"283",height:"535",style:{float:"right"}},(0,i.kt)("image",{href:(0,o.Z)("img/demo.gif"),x:"18",y:"33",width:"247",height:"469"}),(0,i.kt)("image",{href:(0,o.Z)("img/frame.png"),width:"283",height:"535"}))),(0,i.kt)("h3",{id:"what-are-camera-devices"},"What are camera devices?"),(0,i.kt)("p",null,'Camera devices are the physical (or "virtual") devices that can be used to record videos or capture photos.'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Physical"),": A physical camera device is a ",(0,i.kt)("strong",{parentName:"p"},"camera lens on your phone"),". Different physical camera devices have different specifications, such as different capture formats, field of views, frame rates, focal lengths, and more. Some phones have multiple physical camera devices."),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"Examples: ",(0,i.kt)("em",{parentName:"p"},'"Backside Wide-Angle Camera"'),", ",(0,i.kt)("em",{parentName:"p"},'"Frontside Wide-Angle Camera (FaceTime HD)"'),", ",(0,i.kt)("em",{parentName:"p"},'"Ultra-Wide-Angle back camera"'),"."))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Virtual"),": A virtual camera device is a ",(0,i.kt)("strong",{parentName:"p"},"combination of one or more physical camera devices"),", and provides features such as ",(0,i.kt)("em",{parentName:"p"},"virtual-device-switchover")," while zooming or ",(0,i.kt)("em",{parentName:"p"},"combined photo delivery")," from all physiscal cameras to produce higher quality images."),(0,i.kt)("blockquote",{parentName:"li"},(0,i.kt)("p",{parentName:"blockquote"},"Examples: ",(0,i.kt)("em",{parentName:"p"},'"Triple-Camera"'),", ",(0,i.kt)("em",{parentName:"p"},'"Dual-Wide-Angle Camera"'))))),(0,i.kt)("h3",{id:"get-available-camera-devices"},"Get available camera devices"),(0,i.kt)("p",null,"To get a list of all available camera devices, use the ",(0,i.kt)("inlineCode",{parentName:"p"},"getAvailableCameraDevices")," function:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const devices = await Camera.getAvailableCameraDevices()\n")),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"See the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/cuvent/react-native-vision-camera/blob/main/src/CameraDevice.ts"},(0,i.kt)("inlineCode",{parentName:"a"},"CameraDevice")," type")," for more information about a Camera Device"))),(0,i.kt)("p",null,"A camera device (",(0,i.kt)("inlineCode",{parentName:"p"},"CameraDevice"),") contains a list of physical device types this camera device consists of."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"For a single Wide-Angle camera, this would be ",(0,i.kt)("inlineCode",{parentName:"li"},'["wide-angle-camera"]')),(0,i.kt)("li",{parentName:"ul"},"For a Triple-Camera, this would be ",(0,i.kt)("inlineCode",{parentName:"li"},'["wide-angle-camera", "ultra-wide-angle-camera", "telephoto-camera"]'))),(0,i.kt)("p",null,"You can use the helper function ",(0,i.kt)("inlineCode",{parentName:"p"},"parsePhysicalDeviceTypes")," to convert a list of physical devices to a single device descriptor type which can also describe virtual devices:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'console.log(device.devices)\n//  --\x3e ["wide-angle-camera", "ultra-wide-angle-camera", "telephoto-camera"]\n\nconst deviceType = parsePhysicalDeviceTypes(device.devices)\nconsole.log(deviceType)\n//  --\x3e "triple-camera"\n')),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"CameraDevice")," type also contains other useful information describing a camera device, such as ",(0,i.kt)("inlineCode",{parentName:"p"},"position"),' ("front", "back", ...), ',(0,i.kt)("inlineCode",{parentName:"p"},"hasFlash"),", it's ",(0,i.kt)("inlineCode",{parentName:"p"},"formats")," (See ",(0,i.kt)("a",{parentName:"p",href:"formats"},"Camera Formats"),"), and more."),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Make sure to be careful when filtering out unneeded camera devices, since not every phone supports all camera device types. Some phones don't even have front-cameras. You always want to have a camera device, even when it's not the one that has the best features."))),(0,i.kt)("h3",{id:"the-usecameradevices-hook"},"The ",(0,i.kt)("inlineCode",{parentName:"h3"},"useCameraDevices")," hook"),(0,i.kt)("p",null,"VisionCamera provides a hook to make camera device selection a lot easier. You can specify a device type to only find devices with the given type:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"function App() {\n  const devices = useCameraDevices('wide-angle-camera')\n  const device = devices.back\n\n  if (device == null) return <LoadingView />\n  return (\n    <Camera\n      style={StyleSheet.absoluteFill}\n      device={device}\n    />\n  )\n}\n")),(0,i.kt)("p",null,'Or just return the "best matching camera device". This function prefers camera devices with more physical cameras, and always ranks "wide-angle" physical camera devices first.'),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Example: ",(0,i.kt)("inlineCode",{parentName:"p"},"triple-camera")," > ",(0,i.kt)("inlineCode",{parentName:"p"},"dual-wide-camera")," > ",(0,i.kt)("inlineCode",{parentName:"p"},"dual-camera")," > ",(0,i.kt)("inlineCode",{parentName:"p"},"wide-angle-camera")," > ",(0,i.kt)("inlineCode",{parentName:"p"},"ultra-wide-angle-camera")," > ",(0,i.kt)("inlineCode",{parentName:"p"},"telephoto-camera")," > ...")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx"},"function App() {\n  const devices = useCameraDevices()\n  const device = devices.back\n\n  if (device == null) return <LoadingView />\n  return (\n    <Camera\n      style={StyleSheet.absoluteFill}\n      device={device}\n    />\n  )\n}\n")),(0,i.kt)("h3",{id:"the-supportsphotoandvideocapture-prop"},"The ",(0,i.kt)("inlineCode",{parentName:"h3"},"supportsPhotoAndVideoCapture")," prop"),(0,i.kt)("p",null,"Camera devices provide the ",(0,i.kt)("a",{parentName:"p",href:"/docs/api/interfaces/cameradevice.cameradevice-1#supportsphotoandvideocapture"},(0,i.kt)("inlineCode",{parentName:"a"},"supportsPhotoAndVideoCapture")," property")," which determines whether the device supports enabling photo- and video-capture at the same time.\nWhile every iOS device supports this feature, there are some older Android devices which only allow enabling one of each - either photo capture or video capture. (Those are ",(0,i.kt)("inlineCode",{parentName:"p"},"LEGACY")," devices, see ",(0,i.kt)("a",{parentName:"p",href:"https://developer.android.com/reference/android/hardware/camera2/CameraDevice#regular-capture"},"this table"),".)"),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"If ",(0,i.kt)("inlineCode",{parentName:"p"},"supportsPhotoAndVideoCapture")," is ",(0,i.kt)("inlineCode",{parentName:"p"},"false")," but you still need photo- and video-capture at the same time, you can fall back to ",(0,i.kt)("em",{parentName:"p"},"snapshot capture")," (see ",(0,i.kt)("a",{parentName:"p",href:"/docs/guides/capturing#taking-snapshots"},(0,i.kt)("strong",{parentName:"a"},'"Taking Snapshots"')),") instead."))),(0,i.kt)("br",null),(0,i.kt)("h4",{id:"-next-section-camera-lifecycle"},"\ud83d\ude80 Next section: ",(0,i.kt)("a",{parentName:"h4",href:"lifecycle"},"Camera Lifecycle")))}m.isMDXComponent=!0}}]);